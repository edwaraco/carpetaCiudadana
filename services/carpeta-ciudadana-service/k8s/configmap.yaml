apiVersion: v1
kind: ConfigMap
metadata:
  name: carpeta-ciudadana-config
  namespace: carpeta-ciudadana
data:
  # Server Configuration
  SERVER_PORT: "8080"
  SERVER_SERVLET_CONTEXT_PATH: "/api/v1"
  
  # Spring Application
  SPRING_APPLICATION_NAME: "carpeta-ciudadana-service"
  SPRING_PROFILES_ACTIVE: "docker"
  
  # File Upload Configuration
  SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE: "50MB"
  SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE: "50MB"
  SPRING_SERVLET_MULTIPART_ENABLED: "true"
  
  # AWS DynamoDB Configuration (same as docker-compose)
  AWS_DYNAMODB_ENDPOINT: "http://dynamodb-local:8000"
  AWS_REGION: "us-east-1"
  # AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY are in secret.yaml
  
  # MinIO Configuration (same as docker-compose)
  MINIO_ENDPOINT: "http://minio:9000"
  # MINIO_ACCESS_KEY and MINIO_SECRET_KEY are in secret.yaml
  MINIO_BUCKET_NAME: "carpeta-ciudadana-docs"
  MINIO_PRESIGNED_URL_EXPIRY: "15"
  
  # RabbitMQ Configuration (using Kubernetes RabbitMQ service)
  RABBITMQ_HOST: "carpeta-rabbitmq"
  RABBITMQ_PORT: "5672"
  # RABBITMQ_USERNAME and RABBITMQ_PASSWORD are in secret.yaml
  RABBITMQ_CONNECTION_TIMEOUT: "60000"
  RABBITMQ_HEARTBEAT: "30"
  
  # CORS Configuration (same as application.yml)
  CORS_ALLOWED_ORIGINS: "http://localhost:3000"
  CORS_ALLOWED_METHODS: "GET,POST,PUT,DELETE,OPTIONS"
  CORS_ALLOWED_HEADERS: "*"
  CORS_ALLOW_CREDENTIALS: "true"
  CORS_MAX_AGE: "3600"
  
  # Logging Configuration
  LOGGING_LEVEL_CO_EDU_EAFIT_CARPETA: "DEBUG"
  LOGGING_LEVEL_SOFTWARE_AMAZON_AWSSDK: "INFO"
  LOGGING_LEVEL_IO_MINIO: "INFO"
  
  # Management/Actuator Configuration
  MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE: "health,info,metrics"
  MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS: "always"
  
  # SpringDoc/Swagger Configuration
  SPRINGDOC_API_DOCS_PATH: "/api-docs"
  SPRINGDOC_API_DOCS_ENABLED: "true"
  SPRINGDOC_SWAGGER_UI_PATH: "/swagger-ui.html"
  SPRINGDOC_SWAGGER_UI_ENABLED: "true"
